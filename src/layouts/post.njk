---
layout: base
---
<div class="container h-entry">
    <div class="title-container">
        <a href="/posts/"><span aria-hidden="true">Back</span> <span class="visually-hidden">Go to all posts</span></a>
        <h1 class="p-name">{{ title }}</h1>
        <span class="post-meta">
            <a href="{{ page.url }}" class="u-url">Published: <time class="postlist-date dt-published" datetime="{{ date | dateToFormat('yyyy-MM-dd') }}">{{ date | dateToFormat('dd LLL yyyy') }}</time></a>
            <ul class="inline post-tag-list">
                {% for tag in tags %}
                    {% set tagUrl = tag | slug %}
                    {% if tag != 'posts' %}
                    <li class="p-category post-tag post-tag--small">
                        {% if tagUrl != 'tags//' %}
                        <a href="{{ tagUrl | url }}">{{ tag }}</a>
                        {% else %}
                        <span>{{ tag }}</span>
                        {% endif %}
                    </li>
                    {% endif %}
                {% endfor %}
            </ul>
            <span>{{ content | emojiReadTime }}</span>
        </span>
    </div>
    <a aria-hidden="true" href="{{ meta.url }}" class="visually-hidden" rel="author">Ginger</a>
    <nav>
        {% set navPosts = collections.posts | eleventyNavigation %}
        {% for post in navPosts %}
            {% if post.url == page.url %}
                {% set prevSibling = navPosts[loop.index - 1] %}
                {% set nextSibling = navPosts[loop.index + 1] %}
            {% endif %}
        {% endfor %}
        {{ prevSibling | dump }}
        {% if prevSibling %}
        {{ prevSibling.title }}
        {% endif %}
    </nav>
    <span class="visually-hidden p-summary" aria-hidden="true">
        {{ subtitle }}
    </span>
    <article class="post e-content">
        {{ content | safe }}
        {# https://github.com/CodeFoodPixels/eleventy-plugin-webmentions
            {% set mentions = webmentions | webmentionsForPage %}

        {% for mention in mentions %}
        <div class="u-comment">
            <h3 class="p-name">{{ mention.author.name }}</h3>
        </div>
        {% endfor %} #}
        <div class="utterances"></div>
        <script>
            new IntersectionObserver(([{ isIntersecting, target }], io) => {
                if (isIntersecting) {
                    const s = document.createElement('script');
                    s.setAttribute('repo', 'gingerchew/ginger.wtf-2024');
                    s.setAttribute('issue-term', '{{ id }}');
                    s.setAttribute('theme', 'preferred-color-scheme');
                    s.setAttribute('crossorigin', 'anonymous');
                    s.setAttribute('async', '');
                    target.insertAdjacentElement('afterend', s);
                    s.setAttribute('src',"https://utteranc.es/client.js");
                    io.disconnect();
                }
            }).observe(document.querySelector('.utterances'))
        </script>
    </article>
</div>