<!DOCTYPE html>
<html lang="{{ meta.lang }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ meta.title }}</title>
    {%- set cssVars %}
        {% include 'cssVars.njk' %}
    {% endset -%}
    <style>{{ cssVars | safe }}</style>
    {% include "meta.njk" %}

    <style>
		p {
			text-wrap: pretty;
		}
		:is(h1,h2,h3,.h1,.h2,.h3) {
			text-wrap: balance;
		}
	</style>
	<link rel="stylesheet" href="/assets/css/main.scss">
</head>
<body class="layout-{{layout}}">
	<script type="module">
        var { m, t } = localStorage;
        if (m) document.getElementById('$toggleDarkMode').dataset.mode = m;
        if (t) {
            var select = document.getElementById('$themeSelect');
            select.dataset.theme = select.value = t;
        }
        window.umtc = () => document.getElementById('$themeColor').content = getComputedStyle(document.documentElement).getPropertyValue('--backgroundColor');
	</script>
    <a href="#main" class="skiplink">Skip to main content</a>

    <div class="layout" role="document">
        {% include "header.njk" %}
        <main id="main" class="main">
            {{ content | safe }}
        </main>
        {% include "footer.njk" %}
    </div>

    <script type="module" src="{{ '/assets/js/main.js' | url }}"></script>
    <script defer data-domain="ginger.wtf" src="/js/script.js"></script>
</body>
</html>
